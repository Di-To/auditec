// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Tree {
  id           Int       @id @default(autoincrement())
  details      Details[]
  region       String
  municipality String
  park         String
  latitude     Decimal
  longitude    Decimal
}

model Details {
  id      Int      @id @default(autoincrement())
  tree    Tree     @relation(fields: [treeId], references: [id])
  treeId  Int
  picture String
  grade   Int
  time    DateTime
}

model Country {
  id          Int      @id @default(autoincrement())
  countryName String
  region      Region[]
}

model Region {
  id           Int            @id @default(autoincrement())
  country      Country        @relation(fields: [countryId], references: [id])
  countryId    Int
  regionName   String
  municipality Municipality[]
}

model Municipality {
  id               Int    @id @default(autoincrement())
  region           Region @relation(fields: [regionId], references: [id])
  regionId         Int
  municipalityName String
  zone             Zone[]
}

model Zone {
  id             Int              @id @default(autoincrement())
  municipality   Municipality     @relation(fields: [municipalityId], references: [id])
  municipalityId Int
  zoneName       String
  zoneEvaluation ZoneEvaluation[]
}

model ZoneEvaluation {
  id                     Int         @id @default(autoincrement())
  zone                   Zone        @relation(fields: [zoneId], references: [id])
  zoneId                 Int
  zoneIdentificationName String
  greenArea              GreenArea[]
}

model GreenArea {
  id               Int              @id @default(autoincrement())
  zoneEvaluation   ZoneEvaluation   @relation(fields: [zoneEvaluationId], references: [id], onDelete: Cascade)
  zoneEvaluationId Int
  parkName         String
  location         String
  surface          Decimal
  latitude         Decimal
  longitude        Decimal
  grass            Grass[]
  trees            Trees[]
  infrastructure   Infrastructure[]
  floorCovers      FloorCovers[]
  sideWalks        SideWalks[]
  cleaning         Cleaning[]
  seasonFlowers    SeasonFlowers[]
}

model ParentEvaluation {
  id                 Int                  @id @default(autoincrement())
  evaluationId       Int
  date               DateTime
  observation        String
  grassEval          GrassEval[]
  treesEval          TreesEval[]
  infrastructureEval InfrastructureEval[]
  floorCoversEval    FloorCoversEval[]
  sideWalksEval      SideWalksEval[]
  cleaningEval       CleaningEval[]
  seasonFlowersEval  SeasonFlowersEval[]
}

model Grass {
  id        Int         @id @default(autoincrement())
  greenArea GreenArea   @relation(fields: [grassId], references: [id], onDelete: Cascade)
  grassId   Int
  grassEval GrassEval[]
}

model GrassEval {
  id           Int              @id @default(autoincrement())
  grass        Grass            @relation(fields: [grassEvalId], references: [id])
  grassEvalId  Int
  grade        Int
  date         DateTime
  evalType     String
  observation  String
  latitude     Decimal
  longitude    Decimal
  parentEval   ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId Int
}

model Trees {
  id        Int         @id @default(autoincrement())
  greenArea GreenArea   @relation(fields: [treesId], references: [id], onDelete: Cascade)
  treesId   Int
  treesEval TreesEval[]
}

model TreesEval {
  id           Int              @id @default(autoincrement())
  trees        Trees            @relation(fields: [treeEval], references: [id])
  treeEval     Int
  grade        Int
  date         DateTime
  evalType     String
  observation  String
  latitude     Decimal
  longitude    Decimal
  parentEval   ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId Int
}

model Infrastructure {
  id                 Int                  @id @default(autoincrement())
  greenArea          GreenArea            @relation(fields: [greenAreaId], references: [id], onDelete: Cascade)
  greenAreaId        Int
  infrastructureEval InfrastructureEval[]
}

model InfrastructureEval {
  id                   Int              @id @default(autoincrement())
  infrastructe         Infrastructure   @relation(fields: [infrastructureEvalId], references: [id])
  infrastructureEvalId Int
  grade                Int
  date                 DateTime
  evalType             String
  observation          String
  latitude             Decimal
  longitude            Decimal
  parentEval           ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId         Int
}

model FloorCovers {
  id              Int               @id @default(autoincrement())
  greenArea       GreenArea         @relation(fields: [greenAreaId], references: [id], onDelete: Cascade)
  greenAreaId     Int
  floorCoversEval FloorCoversEval[]
}

model FloorCoversEval {
  id                Int              @id @default(autoincrement())
  floorCovers       FloorCovers      @relation(fields: [floorCoversEvalId], references: [id])
  floorCoversEvalId Int
  grade             Int
  date              DateTime
  evalType          String
  observation       String
  latitude          Decimal
  longitude         Decimal
  parentEval        ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId      Int
}

model SideWalks {
  id            Int             @id @default(autoincrement())
  greenArea     GreenArea       @relation(fields: [greenAreaId], references: [id], onDelete: Cascade)
  greenAreaId   Int
  sideWalksEval SideWalksEval[]
}

model SideWalksEval {
  id           Int              @id @default(autoincrement())
  sideWalks    SideWalks        @relation(fields: [sideWalksId], references: [id])
  sideWalksId  Int
  grade        Int
  date         DateTime
  evalType     String
  observation  String
  latitude     Decimal
  longitude    Decimal
  parentEval   ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId Int
}

model Cleaning {
  id           Int            @id @default(autoincrement())
  greenArea    GreenArea      @relation(fields: [greenAreaId], references: [id], onDelete: Cascade)
  greenAreaId  Int
  cleaningEval CleaningEval[]
}

model CleaningEval {
  id             Int              @id @default(autoincrement())
  cleaning       Cleaning         @relation(fields: [cleaningEvalId], references: [id])
  cleaningEvalId Int
  grade          Int
  date           DateTime
  evalType       String
  observation    String
  latitude       Decimal
  longitude      Decimal
  parentEval     ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId   Int
}

model SeasonFlowers {
  id                  Int                 @id @default(autoincrement())
  greenArea           GreenArea           @relation(fields: [greenAreaId], references: [id], onDelete: Cascade)
  greenAreaId         Int
  seasonalFlowersEval SeasonFlowersEval[]
}

model SeasonFlowersEval {
  id                    Int              @id @default(autoincrement())
  seasonalFlowers       SeasonFlowers    @relation(fields: [seasonalFlowersEvalId], references: [id])
  seasonalFlowersEvalId Int
  grade                 Int
  date                  DateTime
  evalType              String
  observation           String
  latitude              Decimal
  longitude             Decimal
  parentEval            ParentEvaluation @relation(fields: [parentEvalId], references: [id])
  parentEvalId          Int
}
